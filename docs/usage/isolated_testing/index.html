<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='Experimental: Isolated Lab Setup# This guide provides a step-by-step walkthrough for running a temporary, isolated Lynx FIM process. This is ideal for testing detection and alerting without modifying your system files or installing the binary globally.
üß™ The ‚ÄúSingle Directory‚Äù Setup# Follow these steps to create a self-contained testing environment in your /tmp directory.
1. Prepare the Lab# # Create and enter a temporary workspace mkdir -p /tmp/lynx-lab && cd /tmp/lynx-lab # Build the latest binary from your project root # (Assuming you are in the project root for the make command) make build cp bin/lynx /tmp/lynx-lab/ cd /tmp/lynx-lab2. Create Dummy Data to Watch# mkdir watched_dirs echo "secret info" > watched_dirs/top_secret.txt3. Initialize and Configure Locally# ./lynx init # Update the config to watch our lab directory instead of system paths # Also ensures the secret key is read from the correct environment variable sed -i &#39;s|/etc/ssh|./watched_dirs|g&#39; config.yaml sed -i &#39;s|hmac_secret_env: "LYNX_HMAC_SECRET"|hmac_secret_env: "LYNX_HMAC_SECRET"|g&#39; config.yaml4. Set Secret and Establish Baseline# export LYNX_HMAC_SECRET="lab-secret-123" ./lynx baseline -o lab_baseline.json5. Start Monitoring# Run this command to start the agent. Note that this will block the current terminal window as it listens for events.
'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://ItsAdam01.github.io/Lynx/docs/usage/isolated_testing/"><meta property="og:site_name" content="Lynx FIM Documentation"><meta property="og:title" content="Isolated Lab Testing (Experimental)"><meta property="og:description" content='Experimental: Isolated Lab Setup# This guide provides a step-by-step walkthrough for running a temporary, isolated Lynx FIM process. This is ideal for testing detection and alerting without modifying your system files or installing the binary globally.
üß™ The ‚ÄúSingle Directory‚Äù Setup# Follow these steps to create a self-contained testing environment in your /tmp directory.
1. Prepare the Lab# # Create and enter a temporary workspace mkdir -p /tmp/lynx-lab && cd /tmp/lynx-lab # Build the latest binary from your project root # (Assuming you are in the project root for the make command) make build cp bin/lynx /tmp/lynx-lab/ cd /tmp/lynx-lab2. Create Dummy Data to Watch# mkdir watched_dirs echo "secret info" > watched_dirs/top_secret.txt3. Initialize and Configure Locally# ./lynx init # Update the config to watch our lab directory instead of system paths # Also ensures the secret key is read from the correct environment variable sed -i &#39;s|/etc/ssh|./watched_dirs|g&#39; config.yaml sed -i &#39;s|hmac_secret_env: "LYNX_HMAC_SECRET"|hmac_secret_env: "LYNX_HMAC_SECRET"|g&#39; config.yaml4. Set Secret and Establish Baseline# export LYNX_HMAC_SECRET="lab-secret-123" ./lynx baseline -o lab_baseline.json5. Start Monitoring# Run this command to start the agent. Note that this will block the current terminal window as it listens for events.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta itemprop=name content="Isolated Lab Testing (Experimental)"><meta itemprop=description content='Experimental: Isolated Lab Setup# This guide provides a step-by-step walkthrough for running a temporary, isolated Lynx FIM process. This is ideal for testing detection and alerting without modifying your system files or installing the binary globally.
üß™ The ‚ÄúSingle Directory‚Äù Setup# Follow these steps to create a self-contained testing environment in your /tmp directory.
1. Prepare the Lab# # Create and enter a temporary workspace mkdir -p /tmp/lynx-lab && cd /tmp/lynx-lab # Build the latest binary from your project root # (Assuming you are in the project root for the make command) make build cp bin/lynx /tmp/lynx-lab/ cd /tmp/lynx-lab2. Create Dummy Data to Watch# mkdir watched_dirs echo "secret info" > watched_dirs/top_secret.txt3. Initialize and Configure Locally# ./lynx init # Update the config to watch our lab directory instead of system paths # Also ensures the secret key is read from the correct environment variable sed -i &#39;s|/etc/ssh|./watched_dirs|g&#39; config.yaml sed -i &#39;s|hmac_secret_env: "LYNX_HMAC_SECRET"|hmac_secret_env: "LYNX_HMAC_SECRET"|g&#39; config.yaml4. Set Secret and Establish Baseline# export LYNX_HMAC_SECRET="lab-secret-123" ./lynx baseline -o lab_baseline.json5. Start Monitoring# Run this command to start the agent. Note that this will block the current terminal window as it listens for events.'><meta itemprop=wordCount content="255"><title>Isolated Lab Testing (Experimental) | Lynx FIM Documentation</title><link rel=icon href=/Lynx/favicon.png><link rel=manifest href=/Lynx/manifest.json><link rel=canonical href=https://ItsAdam01.github.io/Lynx/docs/usage/isolated_testing/><link rel=stylesheet href=/Lynx/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/Lynx/fuse.min.js></script><script defer src=/Lynx/en.search.min.1be847e38fe5b2679b7beeb07971ea1380da68df3a0358794c4c283ba47194e4.js integrity="sha256-G+hH44/lsmebe+6weXHqE4DaaN86A1h5TEwoO6RxlOQ=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/Lynx/><span>Lynx FIM Documentation</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/Lynx/docs/usage/installation/>Installation & Setup</a></li><li><a href=/Lynx/docs/usage/features/>General Features</a></li><li><a href=/Lynx/docs/development/requirements/>Requirements</a></li><li><a href=/Lynx/docs/usage/commands/>Command Reference</a></li><li><a href=/Lynx/docs/development/technical_specs/>Technical Specifications</a></li><li><a href=/Lynx/docs/development/implementation_plan/>Implementation Plan</a></li><li><a href=/Lynx/docs/usage/isolated_testing/ class=active>Isolated Lab Testing (Experimental)</a></li><li><a href=/Lynx/docs/development/implementation_story/>Implementation Story</a></li><li><a href=/Lynx/docs/development/demonstration/>Demonstration & Proof of Concept</a></li><li><a href=/Lynx/docs/development/performance/>Performance Analysis</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/Lynx/icons/menu.svg class=book-icon alt=Menu></label><h3>Isolated Lab Testing (Experimental)</h3><label for=toc-control><img src=/Lynx/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#-the-single-directory-setup>üß™ The &ldquo;Single Directory&rdquo; Setup</a><ul><li><a href=#1-prepare-the-lab>1. Prepare the Lab</a></li><li><a href=#2-create-dummy-data-to-watch>2. Create Dummy Data to Watch</a></li><li><a href=#3-initialize-and-configure-locally>3. Initialize and Configure Locally</a></li><li><a href=#4-set-secret-and-establish-baseline>4. Set Secret and Establish Baseline</a></li><li><a href=#5-start-monitoring>5. Start Monitoring</a></li></ul></li><li><a href=#-verifying-detection>üîç Verifying Detection</a><ul><li><a href=#expected-output-terminal-1>Expected Output (Terminal 1)</a></li></ul></li><li><a href=#-navigation>üó∫Ô∏è Navigation</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=experimental-isolated-lab-setup>Experimental: Isolated Lab Setup<a class=anchor href=#experimental-isolated-lab-setup>#</a></h1><p>This guide provides a step-by-step walkthrough for running a temporary, isolated Lynx FIM process. This is ideal for testing detection and alerting without modifying your system files or installing the binary globally.</p><h2 id=-the-single-directory-setup>üß™ The &ldquo;Single Directory&rdquo; Setup<a class=anchor href=#-the-single-directory-setup>#</a></h2><p>Follow these steps to create a self-contained testing environment in your <code>/tmp</code> directory.</p><h3 id=1-prepare-the-lab>1. Prepare the Lab<a class=anchor href=#1-prepare-the-lab>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Create and enter a temporary workspace</span>
</span></span><span style=display:flex><span>mkdir -p /tmp/lynx-lab <span style=color:#f92672>&amp;&amp;</span> cd /tmp/lynx-lab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Build the latest binary from your project root</span>
</span></span><span style=display:flex><span><span style=color:#75715e># (Assuming you are in the project root for the make command)</span>
</span></span><span style=display:flex><span>make build
</span></span><span style=display:flex><span>cp bin/lynx /tmp/lynx-lab/
</span></span><span style=display:flex><span>cd /tmp/lynx-lab</span></span></code></pre></div><h3 id=2-create-dummy-data-to-watch>2. Create Dummy Data to Watch<a class=anchor href=#2-create-dummy-data-to-watch>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir watched_dirs
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;secret info&#34;</span> &gt; watched_dirs/top_secret.txt</span></span></code></pre></div><h3 id=3-initialize-and-configure-locally>3. Initialize and Configure Locally<a class=anchor href=#3-initialize-and-configure-locally>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>./lynx init
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update the config to watch our lab directory instead of system paths</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Also ensures the secret key is read from the correct environment variable</span>
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s|/etc/ssh|./watched_dirs|g&#39;</span> config.yaml
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s|hmac_secret_env: &#34;LYNX_HMAC_SECRET&#34;|hmac_secret_env: &#34;LYNX_HMAC_SECRET&#34;|g&#39;</span> config.yaml</span></span></code></pre></div><h3 id=4-set-secret-and-establish-baseline>4. Set Secret and Establish Baseline<a class=anchor href=#4-set-secret-and-establish-baseline>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>export LYNX_HMAC_SECRET<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lab-secret-123&#34;</span>
</span></span><span style=display:flex><span>./lynx baseline -o lab_baseline.json</span></span></code></pre></div><h3 id=5-start-monitoring>5. Start Monitoring<a class=anchor href=#5-start-monitoring>#</a></h3><p>Run this command to start the agent. Note that this will block the current terminal window as it listens for events.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>./lynx start -b lab_baseline.json</span></span></code></pre></div><h2 id=-verifying-detection>üîç Verifying Detection<a class=anchor href=#-verifying-detection>#</a></h2><p>While the process is running in <strong>Terminal 1</strong>, open a <strong>second terminal window</strong> and trigger a tampering event:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>cd /tmp/lynx-lab
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;tampered!&#34;</span> &gt;&gt; watched_dirs/top_secret.txt</span></span></code></pre></div><h3 id=expected-output-terminal-1>Expected Output (Terminal 1)<a class=anchor href=#expected-output-terminal-1>#</a></h3><p>You should immediately see the alert in your first terminal:
<code>CRITICAL: File modified: /tmp/lynx-lab/watched_dirs/top_secret.txt</code></p><hr><h2 id=-navigation>üó∫Ô∏è Navigation<a class=anchor href=#-navigation>#</a></h2><ul><li><strong><a href=/Lynx/docs/usage/installation/>Installation & Setup</a></strong>: Permanent installation and service setup.</li><li><strong><a href=/Lynx/docs/usage/commands/>Command Reference</a></strong>: Detailed syntax for all Lynx commands.</li><li><strong><a href=/Lynx/docs/>Back to Introduction</a></strong></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/Lynx/docs/development/implementation_plan/ class="flex align-center"><img src=/Lynx/icons/backward.svg class=book-icon alt=Backward>
<span>Implementation Plan</span>
</a></span><span><a href=/Lynx/docs/development/implementation_story/ class="flex align-center"><span>Implementation Story</span>
<img src=/Lynx/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#-the-single-directory-setup>üß™ The &ldquo;Single Directory&rdquo; Setup</a><ul><li><a href=#1-prepare-the-lab>1. Prepare the Lab</a></li><li><a href=#2-create-dummy-data-to-watch>2. Create Dummy Data to Watch</a></li><li><a href=#3-initialize-and-configure-locally>3. Initialize and Configure Locally</a></li><li><a href=#4-set-secret-and-establish-baseline>4. Set Secret and Establish Baseline</a></li><li><a href=#5-start-monitoring>5. Start Monitoring</a></li></ul></li><li><a href=#-verifying-detection>üîç Verifying Detection</a><ul><li><a href=#expected-output-terminal-1>Expected Output (Terminal 1)</a></li></ul></li><li><a href=#-navigation>üó∫Ô∏è Navigation</a></li></ul></nav></div></aside></main></body></html>